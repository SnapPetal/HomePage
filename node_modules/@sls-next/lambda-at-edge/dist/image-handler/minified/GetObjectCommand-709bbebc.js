"use strict";var e=require("./index-53cf8863.js"),i=require("./httpRequest-eeeab15a.js");require("./image-handler-2dc1bb08.js"),require("./manifest.json"),require("./routes-manifest.json"),require("http"),require("stream"),require("zlib"),require("url"),require("path"),require("fs"),require("crypto"),require("events"),require("util"),require("tty"),require("net"),require("https");var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function o(e){var i=e.getUTCFullYear(),o=e.getUTCMonth(),r=e.getUTCDay(),s=e.getUTCDate(),a=e.getUTCHours(),c=e.getUTCMinutes(),f=e.getUTCSeconds();return t[r]+", "+(s<10?"0"+s:""+s)+" "+n[o]+" "+i+" "+(a<10?"0"+a:""+a)+":"+(c<10?"0"+c:""+c)+":"+(f<10?"0"+f:""+f)+" GMT"}var r,s,a,c,f,u,l,S,g,d,v,p,L,m,E,h,y,C,I,R,w,x,b,T,N,k,K,M,A,z,_,P,D,q,j,O,V,$,G,F,U,B,H,W,J,Y,Q,X,Z,ee,ie,te,ne,oe,re,se,ae,ce,fe,ue,le,Se,ge,de,ve,pe,Le,me,Ee,he,ye,Ce,Ie,Re,we,xe,be,Te,Ne,ke,Ke,Me,Ae,ze,_e,Pe,De,qe,je,Oe,Ve,$e,Ge,Fe,Ue,Be,He,We,Je,Ye,Qe,Xe,Ze,ei,ii,ti,ni,oi,ri,si,ai,ci,fi,ui,li,Si,gi,di,vi,pi,Li,mi,Ei,hi,yi,Ci,Ii,Ri,wi,xi,bi,Ti,Ni,ki,Ki,Mi,Ai,zi,_i,Pi,Di,qi,ji,Oi,Vi,$i,Gi,Fi,Ui,Bi,Hi,Wi,Ji,Yi,Qi,Xi,Zi,et,it,tt,nt,ot,rt,st,at,ct,ft,ut,lt,St,gt,dt,vt,pt,Lt,mt,Et,ht,yt,Ct,It,Rt,wt,xt,bt,Tt,Nt,kt,Kt,Mt,At,zt,_t,Pt,Dt,qt,jt,Ot,Vt,$t,Gt,Ft,Ut,Bt,Ht,Wt,Jt,Yt,Qt,Xt,Zt,en,tn,nn,on,rn,sn,an,cn,fn,un,ln,Sn,gn,dn,vn,pn,Ln,mn,En,hn,yn,Cn,In,Rn,wn,xn,bn,Tn,Nn,kn,Kn,Mn,An,zn,_n,Pn,Dn,qn,jn,On,Vn=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,$n=/(\d+\.){3}\d+/,Gn=/\.\./,Fn=/\./,Un=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,Bn=/^s3(-external-1)?\.amazonaws\.com$/,Hn=function(e){return Yn(e)?e.replace(/fips-|-fips/,""):e},Wn=function(e){var i=e.match(Un);return[i[2],e.replace(new RegExp("^"+i[0]),"")]},Jn=function(e,i){if(""===e)throw new Error("ARN region is empty");if(Yn(i.clientRegion)){if(!i.allowFipsRegion)throw new Error("FIPS region is not supported");if(!Qn(e,i.clientRegion))throw new Error("Client FIPS region "+i.clientRegion+" doesn't match region "+e+" in ARN")}if(!i.useArnRegion&&!Qn(e,i.clientRegion)&&!Qn(e,i.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+i.clientRegion)},Yn=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},Qn=function(e,i){return e===i||Hn(e)===i||e===Hn(i)},Xn=function(e,i){if(void 0===i&&(i={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==i?void 0:i.tlsCompatible)&&Fn.test(e))throw new Error("Invalid DNS label "+e)},Zn=function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")},eo=function(e){var t=e.isCustomEndpoint;e.baseHostname;var n=e.dualstackEndpoint,o=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(o)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?to(i.__assign(i.__assign({},e),{isCustomEndpoint:t})):io(i.__assign(i.__assign({},e),{isCustomEndpoint:t}))},io=function(e){var t,n=e.isCustomEndpoint,o=e.baseHostname,r=e.clientRegion,s=n?o:(t=o,Bn.test(t)?[t.replace(".amazonaws.com",""),"amazonaws.com"]:Wn(t))[1],a=e.pathStyleEndpoint,c=e.dualstackEndpoint,f=void 0!==c&&c,u=e.accelerateEndpoint,l=void 0!==u&&u,S=e.tlsCompatible,g=void 0===S||S,d=e.useArnRegion,v=e.bucketName,p=e.clientPartition,L=void 0===p?"aws":p,m=e.clientSigningRegion,E=void 0===m?r:m;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:a,accelerateEndpoint:l,tlsCompatible:g});var h=v.service,y=v.partition,C=v.accountId,I=v.region,R=v.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e&&"s3-object-lambda"!==e)throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")}(h),function(e,i){if(e!==i.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+i.clientPartition+'"')}(y,{clientPartition:L}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(C),function(e){if(["s3-external-1","aws-global"].includes(Hn(e)))throw new Error("Client region "+e+" is not regional")}(r);var w=function(e){var t=e.includes(":")?":":"/",n=i.__read(e.split(t)),o=n[0],r=n.slice(1);if("accesspoint"===o){if(1!==r.length||""===r[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:r[0]}}if("outpost"===o){if(!r[0]||"accesspoint"!==r[1]||!r[2]||3!==r.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var s=i.__read(r,3),a=s[0];return s[1],{outpostId:a,accesspointName:s[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(R),x=w.accesspointName,b=w.outpostId,T=x+"-"+C;Xn(T,{tlsCompatible:g});var N=d?I:r,k=d?I:E;return"s3-object-lambda"===h?(Jn(I,{useArnRegion:d,clientRegion:r,clientSigningRegion:E,allowFipsRegion:!0}),Zn(f),{bucketEndpoint:!0,hostname:T+"."+h+(Yn(r)?"-fips":"")+"."+Hn(N)+"."+s,signingRegion:k,signingService:h}):b?(Jn(I,{useArnRegion:d,clientRegion:r,clientSigningRegion:E}),function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(h),Xn(b,{tlsCompatible:g}),Zn(f),function(e){if(Yn(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(N),{bucketEndpoint:!0,hostname:T+"."+b+(n?"":".s3-outposts."+N)+"."+s,signingRegion:k,signingService:"s3-outposts"}):(Jn(I,{useArnRegion:d,clientRegion:r,clientSigningRegion:E,allowFipsRegion:!0}),function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(h),{bucketEndpoint:!0,hostname:""+T+(n?"":".s3-accesspoint"+(Yn(r)?"-fips":"")+(f?".dualstack":"")+"."+Hn(N))+"."+s,signingRegion:k})},to=function(e){var t,n=e.accelerateEndpoint,o=void 0!==n&&n,r=e.clientRegion,s=e.baseHostname,a=e.bucketName,c=e.dualstackEndpoint,f=void 0!==c&&c,u=e.pathStyleEndpoint,l=void 0!==u&&u,S=e.tlsCompatible,g=void 0===S||S,d=e.isCustomEndpoint,v=void 0!==d&&d,p=i.__read(v?[r,s]:(t=s,Bn.test(t)?["us-east-1","amazonaws.com"]:Wn(t)),2),L=p[0],m=p[1];return l||!function(e){return Vn.test(e)&&!$n.test(e)&&!Gn.test(e)}(a)||g&&Fn.test(a)?{bucketEndpoint:!1,hostname:f?"s3.dualstack."+L+"."+m:s}:(o?s="s3-accelerate"+(f?".dualstack":"")+"."+m:f&&(s="s3.dualstack."+L+"."+m),{bucketEndpoint:!0,hostname:a+"."+s})},no={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},oo=function(t){return{applyToStack:function(n){n.addRelativeTo(function(t){return function(n,o){return function(r){return i.__awaiter(void 0,void 0,void 0,(function(){var s,a,c,f,u,l,S,g,d,v,p,L,m,E,h,y,C,I;return i.__generator(this,(function(R){switch(R.label){case 0:return s=r.input.Bucket,a=t.bucketEndpoint,c=r.request,i.HttpRequest.isInstance(c)?t.bucketEndpoint?(c.hostname=s,[3,7]):[3,1]:[3,8];case 1:return e.validate(s)?(f=e.parse(s),u=Hn,[4,t.region()]):[3,5];case 2:return E=u.apply(void 0,[R.sent()]),[4,t.regionInfoProvider(E)];case 3:return l=R.sent()||{},S=l.partition,g=l.signingRegion,d=void 0===g?E:g,[4,t.useArnRegion()];case 4:return v=R.sent(),p=eo({bucketName:f,baseHostname:c.hostname,accelerateEndpoint:t.useAccelerateEndpoint,dualstackEndpoint:t.useDualstackEndpoint,pathStyleEndpoint:t.forcePathStyle,tlsCompatible:"https:"===c.protocol,useArnRegion:v,clientPartition:S,clientSigningRegion:d,clientRegion:E,isCustomEndpoint:t.isCustomEndpoint}),C=p.hostname,I=p.bucketEndpoint,L=p.signingRegion,m=p.signingService,L&&L!==d&&(o.signing_region=L),m&&"s3"!==m&&(o.signing_service=m),c.hostname=C,a=I,[3,7];case 5:return h=Hn,[4,t.region()];case 6:E=h.apply(void 0,[R.sent()]),y=eo({bucketName:s,clientRegion:E,baseHostname:c.hostname,accelerateEndpoint:t.useAccelerateEndpoint,dualstackEndpoint:t.useDualstackEndpoint,pathStyleEndpoint:t.forcePathStyle,tlsCompatible:"https:"===c.protocol,isCustomEndpoint:t.isCustomEndpoint}),C=y.hostname,I=y.bucketEndpoint,c.hostname=C,a=I,R.label=7;case 7:a&&(c.path=c.path.replace(/^(\/)?[^\/]+/,""),""===c.path&&(c.path="/")),R.label=8;case 8:return[2,n(i.__assign(i.__assign({},r),{request:c}))]}}))}))}}}(t),no)}}};!function(e){e.filterSensitiveLog=e=>({...e})}(r||(r={})),function(e){e.filterSensitiveLog=e=>({...e})}(s||(s={})),function(e){e.filterSensitiveLog=e=>({...e})}(a||(a={})),function(e){e.filterSensitiveLog=e=>({...e})}(c||(c={})),function(e){e.filterSensitiveLog=e=>({...e})}(f||(f={})),function(e){e.filterSensitiveLog=e=>({...e})}(u||(u={})),function(e){e.filterSensitiveLog=e=>({...e})}(l||(l={})),function(e){e.filterSensitiveLog=e=>({...e})}(S||(S={})),function(e){e.filterSensitiveLog=e=>({...e})}(g||(g={})),function(e){e.filterSensitiveLog=e=>({...e})}(d||(d={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING}})}(v||(v={})),function(e){e.filterSensitiveLog=e=>({...e})}(p||(p={})),function(e){e.filterSensitiveLog=e=>({...e})}(L||(L={})),function(e){e.filterSensitiveLog=e=>({...e})}(m||(m={})),function(e){e.filterSensitiveLog=e=>({...e})}(E||(E={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING},...i.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:e.SENSITIVE_STRING}})}(h||(h={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSECustomerKey&&{SSECustomerKey:e.SENSITIVE_STRING},...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING},...i.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:e.SENSITIVE_STRING},...i.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:e.SENSITIVE_STRING}})}(y||(y={})),function(e){e.filterSensitiveLog=e=>({...e})}(C||(C={})),function(e){e.filterSensitiveLog=e=>({...e})}(I||(I={})),function(e){e.filterSensitiveLog=e=>({...e})}(R||(R={})),function(e){e.filterSensitiveLog=e=>({...e})}(w||(w={})),function(e){e.filterSensitiveLog=e=>({...e})}(x||(x={})),function(e){e.filterSensitiveLog=e=>({...e})}(b||(b={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING},...i.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:e.SENSITIVE_STRING}})}(T||(T={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSECustomerKey&&{SSECustomerKey:e.SENSITIVE_STRING},...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING},...i.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:e.SENSITIVE_STRING}})}(N||(N={})),function(e){e.filterSensitiveLog=e=>({...e})}(k||(k={})),function(e){e.filterSensitiveLog=e=>({...e})}(K||(K={})),function(e){e.filterSensitiveLog=e=>({...e})}(M||(M={})),function(e){e.filterSensitiveLog=e=>({...e})}(A||(A={})),function(e){e.filterSensitiveLog=e=>({...e})}(z||(z={})),function(e){e.filterSensitiveLog=e=>({...e})}(_||(_={})),function(e){e.filterSensitiveLog=e=>({...e})}(P||(P={})),function(e){e.filterSensitiveLog=e=>({...e})}(D||(D={})),function(e){e.filterSensitiveLog=e=>({...e})}(q||(q={})),function(e){e.filterSensitiveLog=e=>({...e})}(j||(j={})),function(e){e.filterSensitiveLog=e=>({...e})}(O||(O={})),function(e){e.filterSensitiveLog=e=>({...e})}(V||(V={})),function(e){e.filterSensitiveLog=e=>({...e})}($||($={})),function(e){e.filterSensitiveLog=e=>({...e})}(G||(G={})),function(e){e.filterSensitiveLog=e=>({...e})}(F||(F={})),function(e){e.filterSensitiveLog=e=>({...e})}(U||(U={})),function(e){e.filterSensitiveLog=e=>({...e})}(B||(B={})),function(e){e.filterSensitiveLog=e=>({...e})}(H||(H={})),function(e){e.filterSensitiveLog=e=>({...e})}(W||(W={})),function(e){e.filterSensitiveLog=e=>({...e})}(J||(J={})),function(e){e.filterSensitiveLog=e=>({...e})}(Y||(Y={})),function(e){e.filterSensitiveLog=e=>({...e})}(Q||(Q={})),function(e){e.filterSensitiveLog=e=>({...e})}(X||(X={})),function(e){e.filterSensitiveLog=e=>({...e})}(Z||(Z={})),function(e){e.filterSensitiveLog=e=>({...e})}(ee||(ee={})),function(e){e.filterSensitiveLog=e=>({...e})}(ie||(ie={})),function(e){e.filterSensitiveLog=e=>({...e})}(te||(te={})),function(e){e.filterSensitiveLog=e=>({...e})}(ne||(ne={})),function(e){e.filterSensitiveLog=e=>({...e})}(oe||(oe={})),function(e){e.filterSensitiveLog=e=>({...e})}(re||(re={})),function(e){e.visit=(e,i)=>void 0!==e.Prefix?i.Prefix(e.Prefix):void 0!==e.Tag?i.Tag(e.Tag):void 0!==e.And?i.And(e.And):i._(e.$unknown[0],e.$unknown[1]),e.filterSensitiveLog=e=>void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:oe.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:re.filterSensitiveLog(e.And)}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0}(se||(se={})),function(e){e.filterSensitiveLog=e=>({...e})}(ae||(ae={})),function(e){e.filterSensitiveLog=e=>({...e})}(ce||(ce={})),function(e){e.filterSensitiveLog=e=>({...e})}(fe||(fe={})),function(e){e.filterSensitiveLog=e=>({...e})}(ue||(ue={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Filter&&{Filter:se.filterSensitiveLog(e.Filter)}})}(le||(le={})),function(e){e.filterSensitiveLog=e=>({...e,...e.AnalyticsConfiguration&&{AnalyticsConfiguration:le.filterSensitiveLog(e.AnalyticsConfiguration)}})}(Se||(Se={})),function(e){e.filterSensitiveLog=e=>({...e})}(ge||(ge={})),function(e){e.filterSensitiveLog=e=>({...e})}(de||(de={})),function(e){e.filterSensitiveLog=e=>({...e})}(ve||(ve={})),function(e){e.filterSensitiveLog=e=>({...e})}(pe||(pe={})),function(i){i.filterSensitiveLog=i=>({...i,...i.KMSMasterKeyID&&{KMSMasterKeyID:e.SENSITIVE_STRING}})}(Le||(Le={})),function(e){e.filterSensitiveLog=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Le.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)}})}(me||(me={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Rules&&{Rules:e.Rules.map((e=>me.filterSensitiveLog(e)))}})}(Ee||(Ee={})),function(e){e.filterSensitiveLog=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Ee.filterSensitiveLog(e.ServerSideEncryptionConfiguration)}})}(he||(he={})),function(e){e.filterSensitiveLog=e=>({...e})}(ye||(ye={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ce||(Ce={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ie||(Ie={})),function(e){e.filterSensitiveLog=e=>({...e})}(Re||(Re={})),function(e){e.filterSensitiveLog=e=>({...e})}(we||(we={})),function(e){e.filterSensitiveLog=e=>({...e})}(xe||(xe={})),function(e){e.filterSensitiveLog=e=>({...e})}(be||(be={})),function(i){i.filterSensitiveLog=i=>({...i,...i.KeyId&&{KeyId:e.SENSITIVE_STRING}})}(Te||(Te={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ne||(Ne={})),function(e){e.filterSensitiveLog=e=>({...e,...e.SSEKMS&&{SSEKMS:Te.filterSensitiveLog(e.SSEKMS)}})}(ke||(ke={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Encryption&&{Encryption:ke.filterSensitiveLog(e.Encryption)}})}(Ke||(Ke={})),function(e){e.filterSensitiveLog=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:Ke.filterSensitiveLog(e.S3BucketDestination)}})}(Me||(Me={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ae||(Ae={})),function(e){e.filterSensitiveLog=e=>({...e})}(ze||(ze={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Destination&&{Destination:Me.filterSensitiveLog(e.Destination)}})}(_e||(_e={})),function(e){e.filterSensitiveLog=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:_e.filterSensitiveLog(e.InventoryConfiguration)}})}(Pe||(Pe={})),function(e){e.filterSensitiveLog=e=>({...e})}(De||(De={})),function(e){e.filterSensitiveLog=e=>({...e})}(qe||(qe={})),function(e){e.filterSensitiveLog=e=>({...e})}(je||(je={})),function(e){e.visit=(e,i)=>void 0!==e.Prefix?i.Prefix(e.Prefix):void 0!==e.Tag?i.Tag(e.Tag):void 0!==e.And?i.And(e.And):i._(e.$unknown[0],e.$unknown[1]),e.filterSensitiveLog=e=>void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:oe.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:je.filterSensitiveLog(e.And)}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0}(Oe||(Oe={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ve||(Ve={})),function(e){e.filterSensitiveLog=e=>({...e})}($e||($e={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ge||(Ge={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Filter&&{Filter:Oe.filterSensitiveLog(e.Filter)}})}(Fe||(Fe={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Rules&&{Rules:e.Rules.map((e=>Fe.filterSensitiveLog(e)))}})}(Ue||(Ue={})),function(e){e.filterSensitiveLog=e=>({...e})}(Be||(Be={})),function(e){e.filterSensitiveLog=e=>({...e})}(He||(He={})),function(e){e.filterSensitiveLog=e=>({...e})}(We||(We={})),function(e){e.filterSensitiveLog=e=>({...e})}(Je||(Je={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ye||(Ye={})),function(e){e.filterSensitiveLog=e=>({...e})}(Qe||(Qe={})),function(e){e.filterSensitiveLog=e=>({...e})}(Xe||(Xe={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ze||(Ze={})),function(e){e.visit=(e,i)=>void 0!==e.Prefix?i.Prefix(e.Prefix):void 0!==e.Tag?i.Tag(e.Tag):void 0!==e.And?i.And(e.And):i._(e.$unknown[0],e.$unknown[1]),e.filterSensitiveLog=e=>void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:oe.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Ze.filterSensitiveLog(e.And)}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0}(ei||(ei={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Filter&&{Filter:ei.filterSensitiveLog(e.Filter)}})}(ii||(ii={})),function(e){e.filterSensitiveLog=e=>({...e,...e.MetricsConfiguration&&{MetricsConfiguration:ii.filterSensitiveLog(e.MetricsConfiguration)}})}(ti||(ti={})),function(e){e.filterSensitiveLog=e=>({...e})}(ni||(ni={})),function(e){e.filterSensitiveLog=e=>({...e})}(oi||(oi={})),function(e){e.filterSensitiveLog=e=>({...e})}(ri||(ri={})),function(e){e.filterSensitiveLog=e=>({...e})}(si||(si={})),function(e){e.filterSensitiveLog=e=>({...e})}(ai||(ai={})),function(e){e.filterSensitiveLog=e=>({...e})}(ci||(ci={})),function(e){e.filterSensitiveLog=e=>({...e})}(fi||(fi={})),function(e){e.filterSensitiveLog=e=>({...e})}(ui||(ui={})),function(e){e.filterSensitiveLog=e=>({...e})}(li||(li={})),function(e){e.filterSensitiveLog=e=>({...e})}(Si||(Si={})),function(e){e.filterSensitiveLog=e=>({...e})}(gi||(gi={})),function(e){e.filterSensitiveLog=e=>({...e})}(di||(di={})),function(e){e.filterSensitiveLog=e=>({...e})}(vi||(vi={})),function(e){e.filterSensitiveLog=e=>({...e})}(pi||(pi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Li||(Li={})),function(e){e.filterSensitiveLog=e=>({...e})}(mi||(mi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ei||(Ei={})),function(e){e.filterSensitiveLog=e=>({...e})}(hi||(hi={})),function(e){e.filterSensitiveLog=e=>({...e})}(yi||(yi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ci||(Ci={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ii||(Ii={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ri||(Ri={})),function(e){e.filterSensitiveLog=e=>({...e})}(wi||(wi={})),function(e){e.filterSensitiveLog=e=>({...e})}(xi||(xi={})),function(e){e.filterSensitiveLog=e=>({...e})}(bi||(bi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ti||(Ti={})),function(e){e.visit=(e,i)=>void 0!==e.Prefix?i.Prefix(e.Prefix):void 0!==e.Tag?i.Tag(e.Tag):void 0!==e.And?i.And(e.And):i._(e.$unknown[0],e.$unknown[1]),e.filterSensitiveLog=e=>void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:oe.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Ti.filterSensitiveLog(e.And)}:void 0!==e.$unknown?{[e.$unknown[0]]:"UNKNOWN"}:void 0}(Ni||(Ni={})),function(e){e.filterSensitiveLog=e=>({...e})}(ki||(ki={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ki||(Ki={})),function(e){e.filterSensitiveLog=e=>({...e})}(Mi||(Mi={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Filter&&{Filter:Ni.filterSensitiveLog(e.Filter)}})}(Ai||(Ai={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Rules&&{Rules:e.Rules.map((e=>Ai.filterSensitiveLog(e)))}})}(zi||(zi={})),function(e){e.filterSensitiveLog=e=>({...e,...e.ReplicationConfiguration&&{ReplicationConfiguration:zi.filterSensitiveLog(e.ReplicationConfiguration)}})}(_i||(_i={})),function(e){e.filterSensitiveLog=e=>({...e})}(Pi||(Pi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Di||(Di={})),function(e){e.filterSensitiveLog=e=>({...e})}(qi||(qi={})),function(e){e.filterSensitiveLog=e=>({...e})}(ji||(ji={})),function(e){e.filterSensitiveLog=e=>({...e})}(Oi||(Oi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Vi||(Vi={})),function(e){e.filterSensitiveLog=e=>({...e})}($i||($i={})),function(e){e.filterSensitiveLog=e=>({...e})}(Gi||(Gi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Fi||(Fi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ui||(Ui={})),function(e){e.filterSensitiveLog=e=>({...e})}(Bi||(Bi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Hi||(Hi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Wi||(Wi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ji||(Ji={})),function(e){e.filterSensitiveLog=e=>({...e})}(Yi||(Yi={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING}})}(Qi||(Qi={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSECustomerKey&&{SSECustomerKey:e.SENSITIVE_STRING}})}(Xi||(Xi={})),function(e){e.filterSensitiveLog=e=>({...e})}(Zi||(Zi={})),function(e){e.filterSensitiveLog=e=>({...e})}(et||(et={})),function(e){e.filterSensitiveLog=e=>({...e})}(it||(it={})),function(e){e.filterSensitiveLog=e=>({...e})}(tt||(tt={})),function(e){e.filterSensitiveLog=e=>({...e})}(nt||(nt={})),function(e){e.filterSensitiveLog=e=>({...e})}(ot||(ot={})),function(e){e.filterSensitiveLog=e=>({...e})}(rt||(rt={})),function(e){e.filterSensitiveLog=e=>({...e})}(st||(st={})),function(e){e.filterSensitiveLog=e=>({...e})}(at||(at={})),function(e){e.filterSensitiveLog=e=>({...e})}(ct||(ct={})),function(e){e.filterSensitiveLog=e=>({...e})}(ft||(ft={})),function(e){e.filterSensitiveLog=e=>({...e})}(ut||(ut={})),function(e){e.filterSensitiveLog=e=>({...e})}(lt||(lt={})),function(e){e.filterSensitiveLog=e=>({...e})}(St||(St={})),function(e){e.filterSensitiveLog=e=>({...e})}(gt||(gt={})),function(e){e.filterSensitiveLog=e=>({...e})}(dt||(dt={})),function(e){e.filterSensitiveLog=e=>({...e})}(vt||(vt={})),function(e){e.filterSensitiveLog=e=>({...e})}(pt||(pt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Lt||(Lt={})),function(e){e.filterSensitiveLog=e=>({...e})}(mt||(mt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Et||(Et={})),function(e){e.filterSensitiveLog=e=>({...e})}(ht||(ht={})),function(e){e.filterSensitiveLog=e=>({...e})}(yt||(yt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ct||(Ct={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING}})}(It||(It={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSECustomerKey&&{SSECustomerKey:e.SENSITIVE_STRING}})}(Rt||(Rt={})),function(e){e.filterSensitiveLog=e=>({...e,...e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((e=>le.filterSensitiveLog(e)))}})}(wt||(wt={})),function(e){e.filterSensitiveLog=e=>({...e})}(xt||(xt={})),function(e){e.filterSensitiveLog=e=>({...e})}(bt||(bt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Tt||(Tt={})),function(e){e.filterSensitiveLog=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((e=>_e.filterSensitiveLog(e)))}})}(Nt||(Nt={})),function(e){e.filterSensitiveLog=e=>({...e})}(kt||(kt={})),function(e){e.filterSensitiveLog=e=>({...e,...e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((e=>ii.filterSensitiveLog(e)))}})}(Kt||(Kt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Mt||(Mt={})),function(e){e.filterSensitiveLog=e=>({...e})}(At||(At={})),function(e){e.filterSensitiveLog=e=>({...e})}(zt||(zt={})),function(e){e.filterSensitiveLog=e=>({...e})}(_t||(_t={})),function(e){e.filterSensitiveLog=e=>({...e})}(Pt||(Pt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Dt||(Dt={})),function(e){e.filterSensitiveLog=e=>({...e})}(qt||(qt={})),function(e){e.filterSensitiveLog=e=>({...e})}(jt||(jt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ot||(Ot={})),function(e){e.filterSensitiveLog=e=>({...e})}(Vt||(Vt={})),function(e){e.filterSensitiveLog=e=>({...e})}($t||($t={})),function(e){e.filterSensitiveLog=e=>({...e})}(Gt||(Gt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ft||(Ft={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ut||(Ut={})),function(e){e.filterSensitiveLog=e=>({...e})}(Bt||(Bt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ht||(Ht={})),function(e){e.filterSensitiveLog=e=>({...e})}(Wt||(Wt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Jt||(Jt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Yt||(Yt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Qt||(Qt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Xt||(Xt={})),function(e){e.filterSensitiveLog=e=>({...e})}(Zt||(Zt={})),function(e){e.filterSensitiveLog=e=>({...e})}(en||(en={})),function(e){e.filterSensitiveLog=e=>({...e,...e.AnalyticsConfiguration&&{AnalyticsConfiguration:le.filterSensitiveLog(e.AnalyticsConfiguration)}})}(tn||(tn={})),function(e){e.filterSensitiveLog=e=>({...e})}(nn||(nn={})),function(e){e.filterSensitiveLog=e=>({...e})}(on||(on={})),function(e){e.filterSensitiveLog=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Ee.filterSensitiveLog(e.ServerSideEncryptionConfiguration)}})}(rn||(rn={})),function(e){e.filterSensitiveLog=e=>({...e})}(sn||(sn={})),function(e){e.filterSensitiveLog=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:_e.filterSensitiveLog(e.InventoryConfiguration)}})}(an||(an={})),function(e){e.filterSensitiveLog=e=>({...e,...e.Rules&&{Rules:e.Rules.map((e=>Fe.filterSensitiveLog(e)))}})}(cn||(cn={})),function(e){e.filterSensitiveLog=e=>({...e,...e.LifecycleConfiguration&&{LifecycleConfiguration:cn.filterSensitiveLog(e.LifecycleConfiguration)}})}(fn||(fn={})),function(e){e.filterSensitiveLog=e=>({...e})}(un||(un={})),function(e){e.filterSensitiveLog=e=>({...e})}(ln||(ln={})),function(e){e.filterSensitiveLog=e=>({...e,...e.MetricsConfiguration&&{MetricsConfiguration:ii.filterSensitiveLog(e.MetricsConfiguration)}})}(Sn||(Sn={})),function(e){e.filterSensitiveLog=e=>({...e})}(gn||(gn={})),function(e){e.filterSensitiveLog=e=>({...e})}(dn||(dn={})),function(e){e.filterSensitiveLog=e=>({...e})}(vn||(vn={})),function(e){e.filterSensitiveLog=e=>({...e,...e.ReplicationConfiguration&&{ReplicationConfiguration:zi.filterSensitiveLog(e.ReplicationConfiguration)}})}(pn||(pn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Ln||(Ln={})),function(e){e.filterSensitiveLog=e=>({...e})}(mn||(mn={})),function(e){e.filterSensitiveLog=e=>({...e})}(En||(En={})),function(e){e.filterSensitiveLog=e=>({...e})}(hn||(hn={})),function(e){e.filterSensitiveLog=e=>({...e})}(yn||(yn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Cn||(Cn={})),function(e){e.filterSensitiveLog=e=>({...e})}(In||(In={})),function(e){e.filterSensitiveLog=e=>({...e})}(Rn||(Rn={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING},...i.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:e.SENSITIVE_STRING}})}(wn||(wn={})),function(i){i.filterSensitiveLog=i=>({...i,...i.SSECustomerKey&&{SSECustomerKey:e.SENSITIVE_STRING},...i.SSEKMSKeyId&&{SSEKMSKeyId:e.SENSITIVE_STRING},...i.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:e.SENSITIVE_STRING}})}(xn||(xn={})),function(e){e.filterSensitiveLog=e=>({...e})}(bn||(bn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Tn||(Tn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Nn||(Nn={})),function(e){e.filterSensitiveLog=e=>({...e})}(kn||(kn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Kn||(Kn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Mn||(Mn={})),function(e){e.filterSensitiveLog=e=>({...e})}(An||(An={})),function(e){e.filterSensitiveLog=e=>({...e})}(zn||(zn={})),function(e){e.filterSensitiveLog=e=>({...e})}(_n||(_n={})),function(e){e.filterSensitiveLog=e=>({...e})}(Pn||(Pn={})),function(e){e.filterSensitiveLog=e=>({...e})}(Dn||(Dn={})),function(e){e.filterSensitiveLog=e=>({...e})}(qn||(qn={})),function(e){e.filterSensitiveLog=e=>({...e})}(jn||(jn={})),function(e){e.filterSensitiveLog=e=>({...e})}(On||(On={}));const ro=async(e,i)=>{const t={...e,body:await lo(e.body,i)};let n,o="UnknownError";switch(o=So(e,t.body),o){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":n={...await so(t),name:o,$metadata:co(e)};break;case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":n={...await ao(t),name:o,$metadata:co(e)};break;default:const i=t.body;o=i.code||i.Code||o,n={...i,name:`${o}`,message:i.message||i.Message||o,$fault:"client",$metadata:co(e)}}const r=n.message||n.Message||o;return n.message=r,delete n.Message,Promise.reject(Object.assign(new Error(r),n))},so=async(e,i)=>{const t={name:"InvalidObjectState",$fault:"client",$metadata:co(e),AccessTier:void 0,StorageClass:void 0},n=e.body;return void 0!==n.AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),t},ao=async(e,i)=>{const t={name:"NoSuchKey",$fault:"client",$metadata:co(e)};return e.body,t},co=e=>{var i;return{httpStatusCode:e.statusCode,requestId:null!==(i=e.headers["x-amzn-requestid"])&&void 0!==i?i:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},fo=(e,i)=>((e=new Uint8Array,i)=>e instanceof Uint8Array?Promise.resolve(e):i.streamCollector(e)||Promise.resolve(new Uint8Array))(e,i).then((e=>i.utf8Encoder(e))),uo=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),lo=(i,t)=>fo(i,t).then((i=>{if(i.length){const t=e.parser.parse(i,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,trimValues:!1,tagValueProcessor:(i,t)=>""===i.trim()?"":e.lib.decodeHTML(i)}),n="#text",o=Object.keys(t)[0],r=t[o];return r[n]&&(r[o]=r[n],delete r[n]),e.getValueFromTextNode(r)}return{}})),So=(e,i)=>void 0!==i.Code?i.Code:404==e.statusCode?"NotFound":"";var go={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},vo=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(o){return i.__awaiter(t,void 0,void 0,(function(){var t,r,s,a,c,f,u,l,S,g,d,v,p,L,m,E,h;return i.__generator(this,(function(y){switch(y.label){case 0:t=i.__assign({},o.input),r=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],y.label=1;case 1:y.trys.push([1,6,7,8]),s=i.__values(r),a=s.next(),y.label=2;case 2:return a.done?[3,5]:(c=a.value,(f=t[c.target])?(u=ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):"string"==typeof f?e.utf8Decoder(f):new Uint8Array(f),l=e.base64Encoder(u),(S=new e.md5).update(u),g=[i.__assign({},t)],(h={})[c.target]=l,d=c.hash,p=(v=e).base64Encoder,[4,S.digest()]):[3,4]);case 3:t=i.__assign.apply(void 0,g.concat([(h[d]=p.apply(v,[y.sent()]),h)])),y.label=4;case 4:return a=s.next(),[3,2];case 5:return[3,8];case 6:return L=y.sent(),m={error:L},[3,8];case 7:try{a&&!a.done&&(E=s.return)&&E.call(s)}finally{if(m)throw m.error}return[7];case 8:return[2,n(i.__assign(i.__assign({},o),{input:t}))]}}))}))}}}(e),go)}}};class po extends e.Command{constructor(e){super(),this.input=e}resolveMiddleware(i,t,n){this.middlewareStack.use(e.getSerdePlugin(t,this.serialize,this.deserialize)),this.middlewareStack.use(vo(t)),this.middlewareStack.use(oo(t));const o=i.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:Xi.filterSensitiveLog,outputFilterSensitiveLog:Qi.filterSensitiveLog},{requestHandler:a}=t;return o.resolve((e=>a.handle(e.request,n||{})),s)}serialize(t,n){return(async(t,n)=>{const r={...uo(t.IfMatch)&&{"if-match":t.IfMatch},...uo(t.IfModifiedSince)&&{"if-modified-since":o(t.IfModifiedSince).toString()},...uo(t.IfNoneMatch)&&{"if-none-match":t.IfNoneMatch},...uo(t.IfUnmodifiedSince)&&{"if-unmodified-since":o(t.IfUnmodifiedSince).toString()},...uo(t.Range)&&{range:t.Range},...uo(t.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm},...uo(t.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":t.SSECustomerKey},...uo(t.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5},...uo(t.RequestPayer)&&{"x-amz-request-payer":t.RequestPayer},...uo(t.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}};let s="/{Bucket}/{Key+}";if(void 0===t.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");{const i=t.Bucket;if(i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");s=s.replace("{Bucket}",e.extendedEncodeURIComponent(i))}if(void 0===t.Key)throw new Error("No value provided for input HTTP label: Key.");{const i=t.Key;if(i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");s=s.replace("{Key+}",i.split("/").map((i=>e.extendedEncodeURIComponent(i))).join("/"))}const a={"x-id":"GetObject",...void 0!==t.ResponseCacheControl&&{"response-cache-control":t.ResponseCacheControl},...void 0!==t.ResponseContentDisposition&&{"response-content-disposition":t.ResponseContentDisposition},...void 0!==t.ResponseContentEncoding&&{"response-content-encoding":t.ResponseContentEncoding},...void 0!==t.ResponseContentLanguage&&{"response-content-language":t.ResponseContentLanguage},...void 0!==t.ResponseContentType&&{"response-content-type":t.ResponseContentType},...void 0!==t.ResponseExpires&&{"response-expires":o(t.ResponseExpires).toString()},...void 0!==t.VersionId&&{versionId:t.VersionId},...void 0!==t.PartNumber&&{partNumber:t.PartNumber.toString()}},{hostname:c,protocol:f="https",port:u}=await n.endpoint();return new i.HttpRequest({protocol:f,hostname:c,port:u,method:"GET",headers:r,path:s,query:a,body:void 0})})(t,n)}deserialize(e,i){return(async(e,i)=>{if(200!==e.statusCode&&e.statusCode>=300)return ro(e,i);const t={$metadata:co(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0};void 0!==e.headers["x-amz-delete-marker"]&&(t.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(t.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(t.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(t.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(t.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(t.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(t.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(t.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(t.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(t.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(t.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(t.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(t.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(t.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(t.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(t.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(t.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(t.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(t.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(t.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(t.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(t.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(t.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(t.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(t.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(t.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(t.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(t.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(t.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(t.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((i=>{void 0===t.Metadata&&(t.Metadata={}),i.startsWith("x-amz-meta-")&&(t.Metadata[i.substring(11)]=e.headers[i])}));const n=e.body;return t.Body=n,Promise.resolve(t)})(e,i)}}exports.GetObjectCommand=po;
